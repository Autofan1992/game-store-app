name: Check
on: pull_request
jobs:
  be:
    runs-on: self-hosted
    steps:
      - uses: actions/checkout@v4
      - run: cd backend && docker-compose up
        env:
          POSTGRES_PASSWORD: ${{ secrets.POSTGRES_PASSWORD }}
          POSTGRES_USER: ${{ secrets.POSTGRES_USER }}
          POSTGRES_DB: ${{ secrets.POSTGRES_DB }}
          DB_PORT: ${{ secrets.DB_PORT }}
          API_PORT: ${{ secrets.API_PORT }}
          DATABASE_URL: ${{ secrets.DATABASE_URL }}
          AUTH0_ISSUER_BASE_URL: ${{ secrets.AUTH0_ISSUER_BASE_URL }}
          APP_AWS_ACCESS_KEY: ${{ secrets.APP_AWS_ACCESS_KEY }}
          APP_AWS_SECRET_KEY: ${{ secrets.APP_AWS_SECRET_KEY }}
  # fe:
  #   runs-on: self-hosted
  #   steps:
  #     - uses: actions/checkout@v4
  #     - uses: actions/setup-node@v4
  #       with:
  #         node-version: 20
  #     - run: npm i -g yarn
  #     - run: cd frontend && yarn
  #     - run: cd frontend && yarn lint
  #     - run: cd frontend && yarn build
